import{_ as t,c as e,o as d,a3 as s}from"./chunks/framework.x_GaNxP8.js";const k=JSON.parse('{"title":"下單事件","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"user-manual/order/events.md","filePath":"user-manual/order/events.md"}'),a={name:"user-manual/order/events.md"},r=s(`<h1 id="下單事件" tabindex="-1">下單事件 <a class="header-anchor" href="#下單事件" aria-label="Permalink to &quot;下單事件&quot;">​</a></h1><h2 id="證券委託" tabindex="-1">證券委託 <a class="header-anchor" href="#證券委託" aria-label="Permalink to &quot;證券委託&quot;">​</a></h2><p>證券委託相關下單事件：</p><table tabindex="0"><thead><tr><th>事件</th><th>註冊方式</th><th>回傳物件</th></tr></thead><tbody><tr><td>委託送出開始</td><td><a href="/user-manual/order/stock/send.html">@api.event.order.send_start</a></td><td><a href="#OrderSendStartResult">OrderSendStartResult</a></td></tr><tr><td>委託送出失敗</td><td><a href="/user-manual/order/stock/send.html">@api.event.order.send_fail</a></td><td><a href="#OrderSendFailResult">OrderSendFailResult</a></td></tr><tr><td>委託送出成功<br>(不代表委託成功)</td><td><a href="/user-manual/order/stock/send.html">@api.event.order.send_success</a></td><td><a href="#OrderSendSuccessResult">OrderSendSuccessResult</a></td></tr><tr><td>委託失敗</td><td><a href="/user-manual/order/stock/send.html">@api.event.order.placed_fail</a></td><td><a href="#OrderPlaceFailResult">OrderPlaceFailResult</a></td></tr><tr><td>委託成功</td><td><a href="/user-manual/order/stock/send.html">@api.event.order.placed_success</a></td><td><a href="#OrderPlaceSuccessResult">OrderPlaceSuccessResult</a></td></tr><tr><td>刪單失敗</td><td><a href="/user-manual/order/stock/cancel.html">@api.event.order.cancel_fail</a></td><td><a href="#OrderCancelFailResult">OrderCancelFailResult</a></td></tr></tbody></table><h2 id="ordersendstartresult" tabindex="-1">OrderSendStartResult <a class="header-anchor" href="#ordersendstartresult" aria-label="Permalink to &quot;OrderSendStartResult&quot;">​</a></h2><p>委託送出開始事件，其中 <code>&lt;order&gt;</code> 指下單常數 <code>api.const.order</code></p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">callbackId</td><td style="text-align:center;"><code>int</code></td><td>下單自編註記</td><td></td></tr><tr><td style="text-align:center;">account</td><td style="text-align:center;"><code>str</code></td><td>下單帳戶</td><td></td></tr><tr><td style="text-align:center;">symbol</td><td style="text-align:center;"><code>str</code></td><td>商品代碼</td><td></td></tr><tr><td style="text-align:center;">exchange</td><td style="text-align:center;"><code>&lt;order&gt;.EXCHANGE</code></td><td>市場別</td><td></td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;"><code>&lt;order&gt;.PERIOD</code></td><td>盤別</td><td></td></tr><tr><td style="text-align:center;">order_flag</td><td style="text-align:center;"><code>&lt;order&gt;.FLAG</code></td><td>交易類型</td><td></td></tr><tr><td style="text-align:center;">buysell</td><td style="text-align:center;"><code>&lt;order&gt;.ACTION</code></td><td>買賣別</td><td></td></tr><tr><td style="text-align:center;">price</td><td style="text-align:center;"><code>float</code></td><td>委託價格</td><td></td></tr><tr><td style="text-align:center;">qty</td><td style="text-align:center;"><code>int</code></td><td>委託數量</td><td></td></tr><tr><td style="text-align:center;">price_type</td><td style="text-align:center;"><code>&lt;order&gt;.PRICE</code></td><td>委託價類型</td><td></td></tr><tr><td style="text-align:center;">trade_type</td><td style="text-align:center;"><code>&lt;order&gt;.TRADE</code></td><td>交易單別</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eskmo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api, OrderSendStartResult</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.send_start</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> orderSendStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderSendStartResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;委託送出開始: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div><h2 id="ordersendfailresult" tabindex="-1">OrderSendFailResult <a class="header-anchor" href="#ordersendfailresult" aria-label="Permalink to &quot;OrderSendFailResult&quot;">​</a></h2><p>委託送出失敗事件，其中 <code>&lt;order&gt;</code> 指下單常數 <code>api.const.order</code></p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">errors</td><td style="text-align:center;"><code>list[str]</code></td><td>錯誤訊息</td><td></td></tr><tr><td style="text-align:center;">error_code</td><td style="text-align:center;"><code>str</code></td><td>錯誤代碼</td><td></td></tr><tr><td style="text-align:center;">callbackId</td><td style="text-align:center;"><code>int</code></td><td>下單自編註記</td><td></td></tr><tr><td style="text-align:center;">account</td><td style="text-align:center;"><code>str</code></td><td>下單帳戶</td><td></td></tr><tr><td style="text-align:center;">symbol</td><td style="text-align:center;"><code>str</code></td><td>商品代碼</td><td></td></tr><tr><td style="text-align:center;">exchange</td><td style="text-align:center;"><code>&lt;order&gt;.EXCHANGE</code></td><td>市場別</td><td></td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;"><code>&lt;order&gt;.PERIOD</code></td><td>盤別</td><td></td></tr><tr><td style="text-align:center;">order_flag</td><td style="text-align:center;"><code>&lt;order&gt;.FLAG</code></td><td>交易類型</td><td></td></tr><tr><td style="text-align:center;">buysell</td><td style="text-align:center;"><code>&lt;order&gt;.ACTION</code></td><td>買賣別</td><td></td></tr><tr><td style="text-align:center;">price</td><td style="text-align:center;"><code>float</code></td><td>委託價格</td><td></td></tr><tr><td style="text-align:center;">qty</td><td style="text-align:center;"><code>int</code></td><td>委託數量</td><td></td></tr><tr><td style="text-align:center;">price_type</td><td style="text-align:center;"><code>&lt;order&gt;.PRICE</code></td><td>委託價類型</td><td></td></tr><tr><td style="text-align:center;">trade_type</td><td style="text-align:center;"><code>&lt;order&gt;.TRADE</code></td><td>交易單別</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eskmo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api, OrderSendFailResult</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.send_fail</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> orderSendFail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderSendFailResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;委託送出失敗: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div><h2 id="ordersendsuccessresult" tabindex="-1">OrderSendSuccessResult <a class="header-anchor" href="#ordersendsuccessresult" aria-label="Permalink to &quot;OrderSendSuccessResult&quot;">​</a></h2><p>委託送出成功事件， 其中 <code>&lt;order&gt;</code> 指下單常數 <code>api.const.order</code></p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">state</td><td style="text-align:center;"><code>str</code></td><td>委託狀態</td><td></td></tr><tr><td style="text-align:center;">created</td><td style="text-align:center;"><code>datetime</code></td><td>委託送出時間</td><td></td></tr><tr><td style="text-align:center;">callback_id</td><td style="text-align:center;"><code>int</code></td><td>下單自編註記</td><td></td></tr><tr><td style="text-align:center;">thread_id</td><td style="text-align:center;"><code>str</code></td><td>執行緒編號</td><td></td></tr><tr><td style="text-align:center;">account</td><td style="text-align:center;"><code>str</code></td><td>下單帳戶</td><td></td></tr><tr><td style="text-align:center;">symbol</td><td style="text-align:center;"><code>str</code></td><td>商品代碼</td><td></td></tr><tr><td style="text-align:center;">exchange</td><td style="text-align:center;"><code>&lt;order&gt;.EXCHANGE</code></td><td>市場別</td><td></td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;"><code>&lt;order&gt;.PERIOD</code></td><td>盤別</td><td></td></tr><tr><td style="text-align:center;">order_flag</td><td style="text-align:center;"><code>&lt;order&gt;.FLAG</code></td><td>交易類型</td><td></td></tr><tr><td style="text-align:center;">buysell</td><td style="text-align:center;"><code>&lt;order&gt;.ACTION</code></td><td>買賣別</td><td></td></tr><tr><td style="text-align:center;">price</td><td style="text-align:center;"><code>float</code></td><td>委託價格</td><td></td></tr><tr><td style="text-align:center;">qty</td><td style="text-align:center;"><code>int</code></td><td>委託數量</td><td></td></tr><tr><td style="text-align:center;">price_type</td><td style="text-align:center;"><code>&lt;order&gt;.PRICE</code></td><td>委託價類型</td><td></td></tr><tr><td style="text-align:center;">trade_type</td><td style="text-align:center;"><code>&lt;order&gt;.TRADE</code></td><td>交易單別</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eskmo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api, OrderSendSuccessResult</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.send_success</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> orderSendSuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderSendSuccessResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;委託送出成功: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div><h2 id="placedorderresult" tabindex="-1">PlacedOrderResult <a class="header-anchor" href="#placedorderresult" aria-label="Permalink to &quot;PlacedOrderResult&quot;">​</a></h2><p>委託成功或失敗後，會在事件中取得的委託結果物件</p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">seq_no</td><td style="text-align:center;"><code>str</code></td><td>委託序號</td><td></td></tr><tr><td style="text-align:center;">error_code</td><td style="text-align:center;"><code>str</code></td><td>錯誤代碼</td><td></td></tr><tr><td style="text-align:center;">account</td><td style="text-align:center;"><code>str</code></td><td>下單帳戶</td><td></td></tr><tr><td style="text-align:center;">symbol</td><td style="text-align:center;"><code>str</code></td><td>商品代碼</td><td></td></tr><tr><td style="text-align:center;">exchange</td><td style="text-align:center;"><code>&lt;order&gt;.EXCHANGE</code></td><td>市場別</td><td></td></tr><tr><td style="text-align:center;">period</td><td style="text-align:center;"><code>&lt;order&gt;.PERIOD</code></td><td>盤別</td><td></td></tr><tr><td style="text-align:center;">order_flag</td><td style="text-align:center;"><code>&lt;order&gt;.FLAG</code></td><td>交易類型</td><td></td></tr><tr><td style="text-align:center;">buysell</td><td style="text-align:center;"><code>&lt;order&gt;.ACTION</code></td><td>買賣別</td><td></td></tr><tr><td style="text-align:center;">price</td><td style="text-align:center;"><code>float</code></td><td>委託價格</td><td></td></tr><tr><td style="text-align:center;">qty</td><td style="text-align:center;"><code>int</code></td><td>委託數量</td><td></td></tr><tr><td style="text-align:center;">price_type</td><td style="text-align:center;"><code>&lt;order&gt;.PRICE</code></td><td>委託價類型</td><td></td></tr><tr><td style="text-align:center;">trade_type</td><td style="text-align:center;"><code>&lt;order&gt;.TRADE</code></td><td>交易單別</td><td></td></tr></tbody></table><h2 id="orderplacefailresult" tabindex="-1">OrderPlaceFailResult <a class="header-anchor" href="#orderplacefailresult" aria-label="Permalink to &quot;OrderPlaceFailResult&quot;">​</a></h2><p>委託失敗事件觸發可得</p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">errors</td><td style="text-align:center;"><code>list[str]</code></td><td>錯誤訊息</td><td></td></tr><tr><td style="text-align:center;">error_code</td><td style="text-align:center;"><code>str</code></td><td>錯誤代碼</td><td></td></tr><tr><td style="text-align:center;">thread_id</td><td style="text-align:center;"><code>str</code></td><td>執行緒編號</td><td></td></tr><tr><td style="text-align:center;">order</td><td style="text-align:center;"><a href="#placedorderresult">PlacedOrderResult</a></td><td>委託物件</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.placed_fail</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onOrderPlacedFail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderPlaceFailResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;委託失敗: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div><h2 id="orderplacesuccessresult" tabindex="-1">OrderPlaceSuccessResult <a class="header-anchor" href="#orderplacesuccessresult" aria-label="Permalink to &quot;OrderPlaceSuccessResult&quot;">​</a></h2><p>委託成功事件觸發可得</p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">thread_id</td><td style="text-align:center;"><code>str</code></td><td>執行緒編號</td><td></td></tr><tr><td style="text-align:center;">order</td><td style="text-align:center;"><a href="#placedorderresult">PlacedOrderResult</a></td><td>委託物件</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.placed_success</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onOrderPlacedSuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderPlaceSuccessResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;委託成功: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div><h2 id="ordercancelfailresult" tabindex="-1">OrderCancelFailResult <a class="header-anchor" href="#ordercancelfailresult" aria-label="Permalink to &quot;OrderCancelFailResult&quot;">​</a></h2><p>刪除委託失敗事件觸發可得</p><table tabindex="0"><thead><tr><th style="text-align:center;">屬性</th><th style="text-align:center;">型別</th><th>說明</th><th>備註</th></tr></thead><tbody><tr><td style="text-align:center;">order_class</td><td style="text-align:center;"><code>str</code></td><td>委託類型</td><td></td></tr><tr><td style="text-align:center;">cancel_action</td><td style="text-align:center;"><code>str</code></td><td>刪單行為</td><td></td></tr><tr><td style="text-align:center;">seq_no</td><td style="text-align:center;"><code>str</code></td><td>委託序號</td><td></td></tr><tr><td style="text-align:center;">is_already_cancelled</td><td style="text-align:center;"><code>bool</code></td><td>是否已經刪除</td><td></td></tr><tr><td style="text-align:center;">errors</td><td style="text-align:center;"><code>list[str]</code></td><td>錯誤訊息</td><td></td></tr><tr><td style="text-align:center;">error_code</td><td style="text-align:center;"><code>str</code></td><td>錯誤代碼</td><td></td></tr></tbody></table><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">@api.event.order.cancel_failed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onOrderCancelFailed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data: OrderCancelFailResult):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;刪單失敗: &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span></code></pre></div>`,31),l=[r];function n(i,c,o,h,p,g){return d(),e("div",null,l)}const x=t(a,[["render",n]]);export{k as __pageData,x as default};
